function t396_initTooltip(t){tn_console("func: initTooltip");var e=t.querySelector(".tn-atom__pin"),o=t.querySelector(".tn-atom__tip"),i=t.getAttribute("data-field-tipopen-value");window.t396__isMobile||"click"===i?(t396_setUpTooltip_mobile(t,e,o),t396__setTooltipResizeObserver(t,o)):t396_setUpTooltip_desktop(t,e,o),setTimeout(function(){var t=document.querySelectorAll(".tn-atom__tip-img");Array.prototype.forEach.call(t,function(t){var e=t.getAttribute("data-tipimg-original");e&&(t.src=e)})},3e3)}function t396__setTooltipResizeObserver(o,i){var n,l=document.body.getClientRects();l.length&&"ResizeObserver"in window&&(n=l[0].height,new ResizeObserver(function(t){for(var e=0;e<t.length;e++)t[e].contentRect.height!==n&&(n=l[0].height,t396_hideTooltip(o,i))}).observe(document.body))}function t396_setUpTooltip_desktop(o,t,e){var i;o=t396_getEl(o),t&&(t.addEventListener("mouseover",function(){var t=document.querySelectorAll(".tn-atom__tip_visible");Array.prototype.forEach.call(t,function(t){var e=t.closest(".t396__elem");(e?e.getAttribute("data-elem-id"):"")!==o.getAttribute("data-elem-id")&&t396_hideTooltip(e,t)}),clearTimeout(i),e&&"block"===e.style.display||t396_showTooltip(o,e)}),t.addEventListener("mouseout",function(){i=setTimeout(function(){t396_hideTooltip(o,e)},300)}))}function t396_setUpTooltip_mobile(e,t,o){e=t396_getEl(e),t&&t.addEventListener("click",function(){(o&&"block"===o.style.display&&t.classList.contains("tn-atom__pin")?t396_hideTooltip:t396_showTooltip)(e,o)});var i=e.getAttribute("data-elem-id");document.addEventListener("click",function(t){if(t.target.closest(".tn-atom__pin")){t=t.target.closest(".t396__elem");if((t?t.getAttribute("data-elem-id"):"")===i)return}t396_hideTooltip(e,o)})}function t396_hideTooltip(t,e){e&&(e.style.display=""),e&&(e.style.left=""),e&&(e.style.transform=""),e&&(e.style.right=""),e&&e.classList.remove("tn-atom__tip_visible"),t&&(t.style.zIndex="")}function t396_showTooltip(t,e){var o,i,n,l,s,a,r=(t=t396_getEl(t)).querySelector(".tn-atom__sbs-anim-wrapper"),c=(c=t.getAttribute("data-field-tipposition-value"))||"top",d=(t=r?(o=t).querySelector(".tn-atom__pin"):t).closest(".t396__artboard_scale")&&!t396_isOnlyScalableBrowser(),_=t.clientHeight,p=(d&&(_*=window.tn_scale_factor),t.getBoundingClientRect().top+window.pageYOffset),f=p+_,u=t.getBoundingClientRect().left+window.pageXOffset,m=(d&&(u*=window.tn_scale_factor),t.getBoundingClientRect().right+window.pageXOffset),y=(d&&(m*=window.tn_scale_factor),window.pageYOffset),g=document.documentElement.clientWidth,w=y+document.documentElement.clientHeight,b=(e&&(e.style.display="block"),e&&(e.style.zIndex="-9999"),e&&(e.style.transform="translateX(-10000px)"),e?e.offsetHeight:0),h=e?e.offsetWidth:0,v=(d&&(h*=window.tn_scale_factor),e&&(e.style.display=""),e&&(e.style.zIndex=""),e&&(e.style.transform=""),15);d&&(v*=window.tn_scale_factor),r&&-1!==r.style.transform.indexOf("translateX")&&(n=parseInt(o.style.left),l=parseInt(o.style.left),d&&(n*=window.tn_scale_factor),d&&(l*=window.tn_scale_factor),u+=n,m-=n,p+=l,f-=l),"right"!==c&&"left"!==c||(s=m+v+h,a=u-v-h,("right"===c&&g<s||"left"===c&&a<0)&&(c="top")),"top"!==c&&"bottom"!==c||(a=u-(h/2-_/2),g<(s=m+(h/2-_/2))&&(d=-(g-m-v),e&&(e.style.left="auto"),e&&(e.style.transform="none"),e&&(e.style.right=d+"px")),a<0&&(e&&(e.style.left=-(u-v)+"px"),e&&(e.style.transform="none"))),"top"===c&&(i=p-v-b,f+v+b<w&&i<y&&(c="bottom")),"bottom"===c&&(i=p-v-b,w<f+v+b&&y<i&&(c="top")),e&&e.setAttribute("data-tip-pos",c),e&&(e.style.display="block"),e&&e.classList.add("tn-atom__tip_visible"),r&&o?o.style.zIndex="1000":t&&(t.style.zIndex="1000")}